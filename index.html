<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Elegant Calm Task Manager</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0;scrollbar-width:none;-ms-overflow-style:none;}
*::-webkit-scrollbar{display:none;}
body{font-family:'Inter',sans-serif;transition:.6s;overflow-x:hidden;min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:20px;background:var(--bg);color:var(--text);}
:root{--bg:#f4f4f4; --text:#222; --card-bg:#fff; --shadow:0 4px 15px rgba(0,0,0,0.1); --btn-bg:#3498db; --btn-hover:#2980b9; --btn-text:#fff; --accent:#ff6b6b;}
.container{width:100%;max-width:900px;display:flex;flex-direction:column;gap:20px;}
h1,h2{text-align:center;font-weight:700;}
h1{font-size:2em;} h2{font-size:1.6em; margin-top:10px;}
input[type=text], input[type=number], select, button{
  padding:10px 14px;border-radius:12px;border:1px solid #ccc;font-size:15px;transition:.5s;
  backdrop-filter: blur(6px);background: rgba(255,255,255,0.8);color:#111;font-weight:500;
}
input[type=number]{width:90px;}
button{cursor:pointer;background:var(--btn-bg);color:var(--btn-text);border:none;font-weight:600;box-shadow:0 4px 12px rgba(0,0,0,0.2);transition:.5s;}
button:hover{background:var(--btn-hover);transform:translateY(-2px) scale(1.02);}
ul{list-style:none;padding:0;}
li{
  background:var(--card-bg);margin:10px 0;padding:14px 18px;border-radius:16px;box-shadow:var(--shadow);
  display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition: transform .5s, box-shadow .5s, opacity .5s;
  position:relative;opacity:0;transform: translateY(20px);backdrop-filter: blur(6px);color:#111;font-weight:500;font-size:16px;
}
li.show{opacity:1; transform:translateY(0);}
li:hover{transform: translateY(-4px) scale(1.02); box-shadow:0 12px 30px rgba(0,0,0,0.15);}
.delete-btn{margin-left:10px;color:#e74c3c;font-weight:bold;cursor:pointer;padding:4px 10px;border-radius:8px;background:#fff;border:1px solid #e74c3c;transition:.5s;}
.delete-btn:hover{background:#e74c3c;color:#fff;}
.toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%) translateY(20px);
  background:#27ae60;color:#fff;padding:12px 22px;border-radius:12px;opacity:0;pointer-events:none;transition:.5s;font-weight:700;font-size:16px;}
.toast.show{opacity:1; transform:translateX(-50%) translateY(0);}
#searchInput{width:100%; padding:10px; border-radius:12px; border:1px solid #ccc; font-size:15px; backdrop-filter: blur(6px); color:#111; font-weight:500;}
.theme-buttons{display:flex; gap:10px; flex-wrap:wrap; justify-content:center;}
b{font-weight:700;}
</style>
</head>
<body>
<div class="container">
<h1>Elegant Calm Task Manager</h1>
<div class="theme-buttons">
<button onclick="setTheme('light')">Light</button>
<button onclick="setTheme('dark')">Dark</button>
<button onclick="setTheme('live')">Live</button>
<button onclick="setTheme('ocean')">Ocean</button>
<button onclick="setTheme('sunset')">Sunset</button>
<button onclick="setTheme('forest')">Forest</button>
<button onclick="setTheme('aurora')">Aurora</button>
</div>

<h2>Add Custom Task</h2>
<div style="display:flex; gap:6px; flex-wrap:wrap; align-items:center;">
<input type="text" id="customTask" placeholder="Enter Task Name">
<button id="voiceBtn" onclick="toggleVoice()">üé§ Start</button>
<button onclick="correctTaskName()">AI Correct</button>
<input type="number" id="customDuration" placeholder="Minutes">
<select id="customCategory">
<option value="Do this on Laptop">Do this on Laptop</option>
<option value="Do this on Mobile">Do this on Mobile</option>
<option value="Do this on Mobile or Laptop">Do this on Mobile or Laptop</option>
<option value="Do this on Both Mobile and Laptop">Do this on Both Mobile and Laptop</option>
</select>
<select id="customImportance">
<option value="Important for Future ‚úÖ">Important for Future ‚úÖ</option>
<option value="Not Important ‚ùå">Not Important ‚ùå</option>
</select>
<button onclick="addCustomTask()">Add Task</button>
</div>

<h2>Search Tasks</h2>
<input type="text" id="searchInput" placeholder="Search in bucket..." onkeyup="searchTasks()">
<h2>Task Bucket</h2>
<ul id="bucketList"></ul>
</div>
<div class="toast" id="toast">Task copied!</div>

<script>
// Theme
function setTheme(theme){
  document.body.className=theme+'-theme';
  localStorage.setItem('theme',theme);
}
window.onload=()=>{
  let t=localStorage.getItem('theme');
  if(t) setTheme(t);
  loadTasks();
};

// Task bucket
let bucketList=document.getElementById("bucketList");

function addCustomTask(){
  let name=document.getElementById("customTask").value.trim();
  let duration=document.getElementById("customDuration").value.trim();
  let category=document.getElementById("customCategory").value;
  let importance=document.getElementById("customImportance").value;
  if(name==="") return;
  let copyText=`| ${category} | ${importance} | ${name} | ${duration} min |`;
  let displayHTML=`| ${category} | ${importance} | <b>${name}</b> | ${duration} min |`;
  let li=document.createElement("li");
  li.innerHTML=`${displayHTML} <span class="delete-btn" onclick="deleteTask(this)">Delete</span>`;
  li.onclick=function(e){
    if(e.target.classList.contains('delete-btn')) return;
    navigator.clipboard.writeText(copyText);
    let toast=document.getElementById("toast");
    toast.classList.add("show");
    setTimeout(()=>{toast.classList.remove("show")},1500);
  }
  bucketList.appendChild(li);
  setTimeout(()=>{li.classList.add("show")},50);
  saveTasks();
  document.getElementById("customTask").value="";
  document.getElementById("customDuration").value="";
}

// Delete task
function deleteTask(el){el.parentElement.remove(); saveTasks();}

// Search tasks
function searchTasks(){
  let q=document.getElementById("searchInput").value.toLowerCase();
  Array.from(bucketList.children).forEach(li=>{
    li.style.display=li.textContent.toLowerCase().includes(q)?"flex":"none";
  });
}

// Voice Input
let recognition;
let listening=false;
function toggleVoice(){
  if(!('webkitSpeechRecognition' in window)){alert("Your browser does not support voice input."); return;}
  if(listening){ recognition.stop(); listening=false; document.getElementById("voiceBtn").textContent="üé§ Start"; return;}
  recognition=new webkitSpeechRecognition();
  recognition.continuous=true;
  recognition.interimResults=true;
  recognition.lang='en-US';
  let finalTranscript='';
  recognition.onresult=function(event){
    let interimTranscript='';
    for(let i=event.resultIndex;i<event.results.length;i++){
      if(event.results[i].isFinal){finalTranscript+=event.results[i][0].transcript+' ';}
      else{interimTranscript+=event.results[i][0].transcript;}
    }
    setTimeout(()=>{document.getElementById("customTask").value=(finalTranscript+interimTranscript).trim();},200);
  };
  recognition.onerror=function(event){console.error("Voice error:",event.error);}
  recognition.onend=function(){if(listening) recognition.start();}
  recognition.start();
  listening=true;
  document.getElementById("voiceBtn").textContent="üõë Stop";
}

// AI Correct
function correctTaskName(){
  let taskName=document.getElementById("customTask").value.trim();
  if(taskName==="") return;
  let corrected=taskName.replace(/\b\w/g,c=>c.toUpperCase());
  document.getElementById("customTask").value=corrected;
}

// Save/load
function saveTasks(){
  let tasks=[];
  Array.from(bucketList.children).forEach(li=>tasks.push(li.dataset.text));
  localStorage.setItem('tasks',JSON.stringify(tasks));
}
function loadTasks(){
  let saved=JSON.parse(localStorage.getItem('tasks')||"[]");
  saved.forEach(text=>{
    let li=document.createElement("li");
    li.dataset.text=text;
    let parts=text.split('|');
    li.innerHTML=`| ${parts[1].trim()} | ${parts[2].trim()} | <b>${parts[3].trim()}</b> | ${parts[4].trim()} | <span class="delete-btn" onclick="deleteTask(this)">Delete</span>`;
    li.onclick=function(e){
      if(e.target.classList.contains('delete-btn')) return;
      navigator.clipboard.writeText(text);
      let toast=document.getElementById("toast");
      toast.classList.add("show");
      setTimeout(()=>{toast.classList.remove("show")},1500);
    }
    bucketList.appendChild(li);
    setTimeout(()=>{li.classList.add("show")},50);
  });
}
</script>
</body>
</html>
